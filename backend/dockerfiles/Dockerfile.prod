FROM node:16-alpine

WORKDIR /app/berikard-service
COPY package.json \
    tsconfig.json \
    nest-cli.json \
    ./

RUN npm install
RUN npm run build

ENTRYPOINT [ "node", "dist/src/main" ]